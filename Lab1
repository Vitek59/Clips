(deftemplate Symptom
    (slot type (type SYMBOL))
    (slot present (type SYMBOL))
)

(deftemplate EarlySymptomDetected
    (slot detected (type SYMBOL))
)

(deffacts KnownSymptoms
    (Symptom (type runny-nose) (present yes))
    (Symptom (type nasal-congestion) (present yes))
    (Symptom (type sneezing) (present yes))
    (Symptom (type headache) (present yes))
    (Symptom (type fatigue) (present yes))
    (Symptom (type sore-throat) (present yes))
    (Symptom (type body-temperature) (present yes))
    (Symptom (type muscle-pain) (present yes))
    (Symptom (type cough) (present yes))
    (Symptom (type breathing-difficulty) (present yes))
    (Symptom (type throat-dryness) (present yes))
    (Symptom (type chest-pain) (present yes))
    (Symptom (type intoxication) (present yes))
    (Symptom (type weakness) (present yes))
    (Symptom (type insomnia) (present yes))
    (Symptom (type general-symptoms) (present yes))
)

; Правила для ОРВИ
(defrule rule-1-ORVI
    (and
        (Symptom (type runny-nose) (present yes))
        (Symptom (type nasal-congestion) (present yes))
        (Symptom (type sneezing) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Насморк, заложенность носа и чихание: Первичные симптомы, указывающие на начало ОРВИ, характеризующиеся поражением верхних дыхательных путей." crlf)
)

(defrule rule-2-ORVI
    (and
        (Symptom (type headache) (present yes))
        (Symptom (type fatigue) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Головная боль и утомляемость: Распространенные симптомы ОРВИ, часто сопровождающиеся чувством усталости и дискомфорта в голове." crlf)
)

(defrule rule-3-ORVI
    (and
        (Symptom (type sore-throat) (present yes))
        (Symptom (type weakness) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Боль в горле, покраснение и слабость: Воспаление горла и общая слабость могут свидетельствовать о начале ОРВИ." crlf)
)

(defrule rule-4-ORVI
    (and
        (Symptom (type body-temperature) (present yes))
        (Symptom (type muscle-pain) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Температура тела и боль в мышцах: Повышенная температура и боли в мышцах, часто связанные с ОРВИ." crlf)
)
(defrule rule-5-ORVI
    (and
        (Symptom (type cough) (present yes))
        (Symptom (type breathing-difficulty) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Кашель и затрудненное дыхание: При прогрессировании ОРВИ могут возникнуть симптомы, связанные с нижними дыхательными путями." crlf)
)

(defrule rule-6-ORVI
    (and
        (Symptom (type throat-dryness) (present yes))
        (Symptom (type chest-pain) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Сухость в горле и боль в груди: ОРВИ иногда могут вызывать сухость в горле и дискомфорт или боль в груди, особенно при осложнениях." crlf)
)

(defrule rule-7-ORVI
    (and
        (Symptom (type intoxication) (present yes))
        (Symptom (type weakness) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Интоксикация и слабость: Общее отравление и ослабление организма могут быть результатом ОРВИ." crlf)
)

(defrule rule-8-ORVI
    (and
        (Symptom (type insomnia) (present yes))
        (Symptom (type fatigue) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Бессонница и утомляемость: Симптомы дискомфорта, связанные с бессонницей и усталостью, часто сопровождающие ОРВИ." crlf)
)

(defrule rule-9-ORVI
    (and
        (Symptom (type chest-pain) (present yes))
        (Symptom (type weakness) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Боль в груди и слабость: Сочетание боли в груди и общей слабости может указывать на тяжелые формы ОРВИ." crlf)
)

(defrule rule-10-ORVI
    (and
        (Symptom (type body-temperature) (present yes))
        (Symptom (type fatigue) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Температура тела и утомляемость: Высокая температура, сопровождаемая усталостью, свидетельствует о борьбе организма с инфекцией." crlf)
)

(defrule rule-11-ORVI
    (and
        (Symptom (type headache) (present yes))
        (Symptom (type cough) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Головная боль и кашель: Сочетание головной боли и кашля характерно для некоторых видов ОРВИ, требующих внимания." crlf)
)

(defrule rule-12-ORVI
    (and
        (Symptom (type throat-dryness) (present yes))
        (Symptom (type breathing-difficulty) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Сухость в горле и затрудненное дыхание: Эти симптомы могут быть индикатором наличия осложнений ОРВИ." crlf)
)

(defrule rule-13-ORVI
    (and
        (Symptom (type runny-nose) (present yes))
        (Symptom (type chest-pain) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Насморк, заложенность носа и боль в груди: Различные симптомы, указывающие на влияние вируса на верхние и нижние дыхательные пути." crlf)
)

(defrule rule-14-ORVI
    (and
        (Symptom (type sneezing) (present yes))
        (Symptom (type weakness) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Чихание и слабость: Наличие чихания, сочетаемое с общей слабостью, может указывать на развитие ОРВИ." crlf)
)

(defrule rule-15-ORVI
    (and
        (Symptom (type general-symptoms) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Общие симптомы: Говорят о наличии инфекции, что может указывать на ОРВИ, требующие медицинского вмешательства и лечения." crlf)
)

; Правила для гриппа
(defrule rule-1-Grip
    (and
        (Symptom (type runny-nose) (present yes))
        (Symptom (type nasal-congestion) (present yes))
        (Symptom (type sneezing) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Насморк, заложенность носа и чихание: Первичные симптомы, указывающие на начало гриппа, обычно характеризуются закладыванием носа, чиханием и раздражением верхних дыхательных путей." crlf)
)

(defrule rule-2-Grip
    (and
        (Symptom (type headache) (present yes))
        (Symptom (type fatigue) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Головная боль и утомляемость: Грипп часто сопровождается сильной головной болью, ощущением усталости, иногда даже выраженной слабостью и общим дискомфортом в теле." crlf)
)

(defrule rule-3-Grip
    (and
        (Symptom (type sore-throat) (present yes))
        (Symptom (type weakness) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Боль-в-горле-покраснение и слабость: Подобно ОРВИ, грипп также может вызвать покраснение горла, боли и общую слабость, указывая на воспалительные процессы в организме." crlf)
)

(defrule rule-4-Grip
    (and
        (Symptom (type body-temperature) (present yes))
        (Symptom (type muscle-pain) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Температура-тела и боль-в-мышцах: Повышенная температура тела, часто сопровождаемая болью в мышцах, является распространенным симптомом гриппа, свидетельствующим о бодрствующем иммунном ответе." crlf)
)

(defrule rule-5-Grip
    (and
        (Symptom (type cough) (present yes))
        (Symptom (type breathing-difficulty) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Кашель и затрудненное дыхание: Грипп может привести к кашлю и затрудненному дыханию в случае развития осложнений." crlf)
)

(defrule rule-6-Grip
    (and
        (Symptom (type throat-dryness) (present yes))
        (Symptom (type chest-pain) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Сухость в горле и боль в груди: Эти симптомы могут указывать на прогрессирование гриппа и его негативное воздействие на организм." crlf)
)

(defrule rule-7-Grip
    (and
        (Symptom (type intoxication) (present yes))
        (Symptom (type weakness) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Интоксикация и слабость: Грипп может привести к сильному общему недомоганию и ощущению отравления." crlf)
)

(defrule rule-8-Grip
    (and
        (Symptom (type insomnia) (present yes))
        (Symptom (type fatigue) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Бессонница и утомляемость: Симптомы гриппа могут включать в себя бессонницу и усталость из-за активного борьбы организма с инфекцией." crlf)
)

(defrule rule-9-Grip
    (and
        (Symptom (type chest-pain) (present yes))
        (Symptom (type weakness) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Боль в груди и слабость: Грипп может проявляться болью в груди и ощущением слабости в связи с его негативным воздействием на организм." crlf)
)

(defrule rule-10-Grip
    (and
        (Symptom (type body-temperature) (present yes))
        (Symptom (type fatigue) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Температура тела и утомляемость: Высокая температура и усталость, обычно сопровождающие грипп, указывают на борьбу организма с инфекцией." crlf)
)

(defrule rule-11-Grip
    (and
        (Symptom (type headache) (present yes))
        (Symptom (type cough) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Головная боль и кашель: Сочетание головной боли и кашля часто наблюдается при развитии гриппа." crlf)
)

(defrule rule-12-Grip
    (and
        (Symptom (type throat-dryness) (present yes))
        (Symptom (type breathing-difficulty) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Сухость в горле и затрудненное дыхание: Эти симптомы могут свидетельствовать о возможных осложнениях гриппа." crlf)
)

(defrule rule-13-Grip
    (and
        (Symptom (type runny-nose) (present yes))
        (Symptom (type chest-pain) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Насморк, заложенность носа и боль в груди: Эти симптомы могут указывать на развитие гриппа, оказывающего воздействие на верхние и нижние дыхательные пути." crlf)
)

(defrule rule-14-Grip
    (and
        (Symptom (type sneezing) (present yes))
        (Symptom (type weakness) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Чихание и слабость: Наличие чихания, сопровождаемое общей слабостью, может свидетельствовать о развитии гриппа." crlf)
)

(defrule rule-15-Grip
    (and
        (Symptom (type general-symptoms) (present yes))
    )
    (not (EarlySymptomDetected (detected ?)))
    =>
    (assert (EarlySymptomDetected (detected yes)))
    (printout t "Общие симптомы: Общие симптомы инфекции, как правило, указывают на присутствие гриппа, который требует лечения и медицинского вмешательства." crlf)
)
